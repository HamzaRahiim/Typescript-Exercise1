import{o as Q,c as Z,u as Ce,l as U}from"./useMergedRefs-ffb77068.js";import{b as D,u as X,a as Me,d as we,c as Y}from"./useWindow-a78371ce.js";import{r as i,j as c,f as Oe,p as ke}from"./index-3d8791b8.js";import{u as h}from"./Col-c2024357.js";import{N as Ne}from"./NoopTransition-ab7d619d.js";import{s as v}from"./TransitionWrapper-ec82a515.js";import{d as Be,q as g}from"./DataKey-e12315fd.js";import{P as B}from"./index-2400ada3.js";const je={"aria-label":B.string,onClick:B.func,variant:B.oneOf(["white"])},F=i.forwardRef(({className:t,variant:e,"aria-label":n="Close",...s},r)=>c.jsx("button",{ref:r,type:"button",className:Oe("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...s}));F.displayName="CloseButton";F.propTypes=je;const Ae=F;function Le(t){const e=i.useRef(t);return e.current=t,e}function Se(t){const e=Le(t);i.useEffect(()=>()=>e.current(),[])}function j(t){t===void 0&&(t=Q());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function De(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const q=Be("modal-open");class Fe{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return De(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[s]:r.style[s]},e.scrollBarWidth&&(n[s]=`${parseInt(v(r,s)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(q,""),v(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(q),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const W=Fe,A=(t,e)=>Z?t==null?(e||Q()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function We(t,e){const n=D(),[s,r]=i.useState(()=>A(t,n==null?void 0:n.document));if(!s){const o=A(t);o&&r(o)}return i.useEffect(()=>{e&&s&&e(s)},[e,s]),i.useEffect(()=>{const o=A(t);o!==s&&r(o)},[t,s]),s}function Ie({in:t,onTransition:e}){const n=i.useRef(null),s=i.useRef(!0),r=h(e);return X(()=>{if(!n.current)return;let o=!1;return r({in:t,element:n.current,initial:s.current,isStale:()=>o}),()=>{o=!0}},[t,r]),X(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function Pe({children:t,in:e,onExited:n,onEntered:s,transition:r}){const[o,d]=i.useState(!e);e&&o&&d(!1);const f=Ie({in:!!e,onTransition:u=>{const b=()=>{u.isStale()||(u.in?s==null||s(u.element,u.initial):(d(!0),n==null||n(u.element)))};Promise.resolve(r(u)).then(b,R=>{throw u.in||d(!0),R})}}),E=Ce(f,t.ref);return o&&!e?null:i.cloneElement(t,{ref:E})}function z(t,e,n){return t?c.jsx(t,Object.assign({},n)):e?c.jsx(Pe,Object.assign({},n,{transition:e})):c.jsx(Ne,Object.assign({},n))}function _e(t){return t.code==="Escape"||t.keyCode===27}const Ke=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function He(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,o;for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}let L;function Ve(t){return L||(L=new W({ownerDocument:t==null?void 0:t.document})),L}function $e(t){const e=D(),n=t||Ve(e),s=i.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:i.useCallback(r=>{s.current.dialog=r},[]),setBackdropRef:i.useCallback(r=>{s.current.backdrop=r},[])})}const ee=i.forwardRef((t,e)=>{let{show:n=!1,role:s="dialog",className:r,style:o,children:d,backdrop:f=!0,keyboard:E=!0,onBackdropClick:u,onEscapeKeyDown:b,transition:R,runTransition:ne,backdropTransition:se,runBackdropTransition:re,autoFocus:oe=!0,enforceFocus:ie=!0,restoreFocus:ae=!0,restoreFocusOptions:le,renderDialog:I,renderBackdrop:ce=a=>c.jsx("div",Object.assign({},a)),manager:ue,container:de,onShow:P,onHide:_=()=>{},onExit:fe,onExited:K,onExiting:he,onEnter:me,onEntering:ge,onEntered:pe}=t,Ee=He(t,Ke);const m=D(),T=We(de),l=$e(ue),ve=Me(),be=we(n),[C,H]=i.useState(!n),y=i.useRef(null);i.useImperativeHandle(e,()=>l,[l]),Z&&!be&&n&&(y.current=j(m==null?void 0:m.document)),n&&C&&H(!1);const V=h(()=>{if(l.add(),O.current=U(document,"keydown",xe),w.current=U(document,"focus",()=>setTimeout(Te),!0),P&&P(),oe){var a,G;const N=j((a=(G=l.dialog)==null?void 0:G.ownerDocument)!=null?a:m==null?void 0:m.document);l.dialog&&N&&!Y(l.dialog,N)&&(y.current=N,l.dialog.focus())}}),M=h(()=>{if(l.remove(),O.current==null||O.current(),w.current==null||w.current(),ae){var a;(a=y.current)==null||a.focus==null||a.focus(le),y.current=null}});i.useEffect(()=>{!n||!T||V()},[n,T,V]),i.useEffect(()=>{C&&M()},[C,M]),Se(()=>{M()});const Te=h(()=>{if(!ie||!ve()||!l.isTopModal())return;const a=j(m==null?void 0:m.document);l.dialog&&a&&!Y(l.dialog,a)&&l.dialog.focus()}),ye=h(a=>{a.target===a.currentTarget&&(u==null||u(a),f===!0&&_())}),xe=h(a=>{E&&_e(a)&&l.isTopModal()&&(b==null||b(a),a.defaultPrevented||_())}),w=i.useRef(),O=i.useRef(),Re=(...a)=>{H(!0),K==null||K(...a)};if(!T)return null;const $=Object.assign({role:s,ref:l.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ee,{style:o,className:r,tabIndex:-1});let k=I?I($):c.jsx("div",Object.assign({},$,{children:i.cloneElement(d,{role:"document"})}));k=z(R,ne,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:fe,onExiting:he,onExited:Re,onEnter:me,onEntering:ge,onEntered:pe,children:k});let x=null;return f&&(x=ce({ref:l.setBackdropRef,onClick:ye}),x=z(se,re,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:x})),c.jsx(c.Fragment,{children:ke.createPortal(c.jsxs(c.Fragment,{children:[x,k]}),T)})});ee.displayName="Modal";const ot=Object.assign(ee,{Manager:W});function Ge(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Ue(t,e){t.classList?t.classList.add(e):Ge(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function J(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Xe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=J(t.className,e):t.setAttribute("class",J(t.className&&t.className.baseVal||"",e))}const p={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class te extends W{adjustAndStore(e,n,s){const r=n.style[e];n.dataset[e]=r,v(n,{[e]:`${parseFloat(v(n,e))+s}px`})}restore(e,n){const s=n.dataset[e];s!==void 0&&(delete n.dataset[e],v(n,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(Ue(n,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";g(n,p.FIXED_CONTENT).forEach(o=>this.adjustAndStore(s,o,e.scrollBarWidth)),g(n,p.STICKY_CONTENT).forEach(o=>this.adjustAndStore(r,o,-e.scrollBarWidth)),g(n,p.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();Xe(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";g(n,p.FIXED_CONTENT).forEach(o=>this.restore(s,o)),g(n,p.STICKY_CONTENT).forEach(o=>this.restore(r,o)),g(n,p.NAVBAR_TOGGLER).forEach(o=>this.restore(r,o))}}let S;function it(t){return S||(S=new te(t)),S}const at=te,Ye=i.createContext({onHide(){}}),qe=Ye,ze=i.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:s,children:r,...o},d)=>{const f=i.useContext(qe),E=h(()=>{f==null||f.onHide(),s==null||s()});return c.jsxs("div",{ref:d,...o,children:[r,n&&c.jsx(Ae,{"aria-label":t,variant:e,onClick:E})]})}),lt=ze;export{lt as A,ot as B,qe as M,at as a,it as g,Se as u};
