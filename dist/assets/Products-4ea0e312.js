import{c as W,r as a,u as X,j as e,L as Z}from"./index-3d8791b8.js";import{P as ee}from"./PageBreadcrumb-9dd34a07.js";import{F as L}from"./FormInput-5189d08c.js";import{u as te}from"./index.esm-f7d27dc8.js";import"./Table-e312cd55.js";import{a as se,b as ae,c as oe}from"./avatar-4-c4d6cd1f.js";import{a as o}from"./avatar-5-ae8e2774.js";import{c as ne,d as le}from"./index-e5c69e61.js";import"./httpClient-96fbf256.js";import{S as F}from"./sweetalert2.esm.all-dd0c4ce7.js";import{S as re}from"./SingleFileUploader-c9e26641.js";import{C as j}from"./Card-a8049602.js";import{B as i}from"./Button-21cae2d8.js";import{F as r}from"./Form-70877923.js";import{T as ce}from"./Table-1d1464cf.js";import{B as d}from"./Pagination-ded171f0.js";import{M as m}from"./Modal-9ed1e250.js";import"./Row-10d1c5f5.js";import"./Col-c2024357.js";import"./createWithBsPrefix-36be1bdf.js";import"./InputGroupContext-c86885e2.js";import"./index-2400ada3.js";import"./iconBase-ce8e5803.js";import"./useMergedRefs-ffb77068.js";import"./useCallbackRef-8cbe87ce.js";import"./AbstractModalHeader-14d7211d.js";import"./useWindow-a78371ce.js";import"./NoopTransition-ab7d619d.js";import"./TransitionWrapper-ec82a515.js";import"./DataKey-e12315fd.js";const C=[{id:1,name:"Risa D. Pearson",phoneNo:"336-508-2157",dob:"July 24, 1950",country:"India",accountNo:"AC336 508 2157",image:se,cell:"Cell",activeClass:"table-active"},{id:2,name:"Ann C. Thompson",phoneNo:"646-473-2057",dob:"January 25, 1959",country:"USA",accountNo:"SB646 473 2057",image:ae,cell:"Cell"},{id:3,name:"Paul J. Friend",phoneNo:"281-308-0793",dob:"September 1, 1939",country:"Canada",accountNo:"DL281 308 0793",image:oe,cell:"Cell"},{id:4,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:5,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:6,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:7,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:8,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:9,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:10,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"},{id:11,name:"Linda G. Smith",phoneNo:"606-253-1207",dob:"May 3, 1962",country:"Brazil",accountNo:"CA269 714 6825",image:o,cell:"Cell"}],Ue=()=>{var D,M;const{isSuperUser:b,permissions:N}=W(),G=b||((D=N.Users)==null?void 0:D.Update),I=b||((M=N.Users)==null?void 0:M.Delete),[l,h]=a.useState([]),[f,R]=a.useState(""),[n,S]=a.useState(1),[c,T]=a.useState(15),[u,z]=a.useState(!0),[U,E]=a.useState(!1),[y,H]=a.useState(null),{handleSubmit:J,register:v,control:B,formState:{errors:A}}=te();a.useEffect(()=>{S(1),E(l.length>0)},[c,l]);const O=()=>{F.fire({title:"Are you sure?",text:`All the ${l.length} selected items will be deleted!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&console.log("delete user success")}),console.log("Delete IDs:",l)},Y=t=>{t.target.checked?h(C.map(s=>s.id)):h([])},_=t=>{h(s=>s.includes(t)?s.filter(g=>g!==t):[...s,t])},$=t=>{F.fire({title:"Are you sure?",text:"This Items will be deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Remove!"}).then(s=>{s.isConfirmed&&console.log("delete user success")})},q=t=>{R(t.target.value)},K=()=>{z(!u)},P=C.filter(t=>t.name.toLowerCase().includes(f.toLowerCase())).sort((t,s)=>u?t.name.localeCompare(s.name):s.name.localeCompare(t.name)),p=t=>{S(t)},w=Math.ceil(P.length/c),k=P.slice((n-1)*c,n*c),[Q,x]=X(),V=t=>{console.log("Product Data:",t);const s=new FormData;s.append("name",t.name),s.append("description",t.description),y&&s.append("image",y)};return e.jsxs(e.Fragment,{children:[e.jsx(ee,{title:"Products Management",subName:"Products"}),e.jsxs(j,{children:[e.jsxs(j.Header,{children:[e.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-lg-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"header-title",children:"Product Management"}),e.jsx("p",{className:"text-muted mb-0",children:"Add and Manage your all Product here."})]}),e.jsxs("div",{className:"mt-3 mt-lg-0",children:[" ",e.jsxs(Z,{to:"/products/add-product",className:"btn btn-success",children:[e.jsx("i",{className:"bi bi-plus"})," Add New Product"]}),U&&e.jsx(i,{variant:"danger",className:"ms-2",onClick:O,children:"Delete All Selected"})]})]}),e.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-lg-center mt-3",children:[e.jsx("div",{className:"app-search d-none d-lg-block",children:e.jsx("form",{children:e.jsxs("div",{className:"input-group",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"10px",border:"1px solid rgba(0, 0, 0, 0.1)"},children:[e.jsx("input",{type:"search",className:"form-control",placeholder:"Search Product here...",value:f,onChange:q,style:{backgroundColor:"transparent",border:"none",paddingLeft:"10px",color:"#333"}}),e.jsx("span",{className:"ri-search-line search-icon text-muted",style:{marginRight:"10px",color:"#666"}})]})})}),e.jsxs(r.Select,{value:c,onChange:t=>T(Number(t.target.value)),className:"w-auto mt-3 mt-lg-0",children:[e.jsx("option",{value:15,children:"15 items"}),e.jsx("option",{value:30,children:"30 items"}),e.jsx("option",{value:40,children:"40 items"})]})]})]}),e.jsx(j.Body,{children:e.jsxs("div",{className:"table-responsive-sm",children:[e.jsxs(ce,{className:"table-striped table-centered mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{children:[e.jsx("input",{type:"checkbox",onChange:Y,checked:l.length===C.length})," "]}),e.jsx("th",{children:"Image"}),e.jsx("th",{children:e.jsxs("span",{onClick:K,style:{cursor:"pointer"},children:["Name ",u?"↑":"↓"]})}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:k.length>0?(k||[]).map((t,s)=>{const g=l.includes(t.id);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:g,onChange:()=>_(t.id)})}),e.jsx("td",{className:"table-user",children:e.jsx("img",{src:t.image,alt:"table-user",className:"me-2 rounded-circle"})}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.dob}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex",children:[e.jsx(i,{variant:"secondary",disabled:!G,onClick:x,children:e.jsx(ne,{})}),e.jsx(i,{variant:"danger",className:"ms-2",onClick:()=>$(t.id.toString()),disabled:!I,children:e.jsx(le,{})})]})})]},s)}):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center",children:"No records found"})})})]}),e.jsx("nav",{className:"d-flex justify-content-end mt-3",children:e.jsxs(d,{className:"pagination-rounded mb-0",children:[e.jsx(d.Prev,{onClick:()=>n>1&&p(n-1)}),Array.from({length:w},(t,s)=>e.jsx(d.Item,{active:s+1===n,onClick:()=>p(s+1),children:s+1},s+1)),e.jsx(d.Next,{onClick:()=>n<w&&p(n+1)})]})})]})}),e.jsxs(m,{show:Q,onHide:x,dialogClassName:"modal-dialog-centered",children:[e.jsx(m.Header,{closeButton:!0,children:e.jsx("h4",{className:"modal-title",children:"Add New Product"})}),e.jsxs(r,{onSubmit:J(V),children:[e.jsxs(m.Body,{children:[e.jsx(r.Group,{className:"mb-3",children:e.jsx(L,{label:"Name",type:"text",name:"name",containerClass:"mb-3",register:v,placeholder:"Enter Product Name here..",errors:A,control:B})}),e.jsx(r.Group,{className:"mb-3",children:e.jsx(L,{label:"Description",type:"textarea",name:"description",containerClass:"mb-3",register:v,placeholder:"Enter Description here..",errors:A,control:B})}),e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{children:"Image"}),e.jsx(re,{icon:"ri-upload-cloud-2-line",text:"Drop file here or click to upload a product image.",onFileUpload:t=>H(t)})]})]}),e.jsxs(m.Footer,{children:[e.jsx(i,{variant:"light",onClick:x,children:"Close"}),e.jsx(i,{variant:"soft-success",type:"submit",children:"Save Product"})]})]})]})]})]})};export{Ue as default};
