import{d as A,r as u,j as e,R as S,L as b,c as B}from"./index-3d8791b8.js";import{l as E}from"./logo-dark-25ffad07.js";import{l as F}from"./logo-sm-c9ea58e0.js";import"./httpClient-96fbf256.js";import{f as M,a as L,g as I}from"./index-eebcf10f.js";import{C as P}from"./Collapse-d9661bb7.js";import{S as _}from"./index-ee2a81b4.js";import"./index-e5c69e61.js";import"./iconBase-ce8e5803.js";import"./TransitionWrapper-ec82a515.js";import"./useMergedRefs-ffb77068.js";const R=({item:s,linkClassName:r,subMenuClassNames:x,activeMenuItems:i,toggleMenu:o})=>{const[d,g]=u.useState(i.includes(s.key));u.useEffect(()=>{g(i.includes(s.key))},[i,s]);const n=()=>{const a=!d;return g(a),o&&o(s,a),!1};return e.jsxs("li",{className:`side-nav-item ${d?"menuitem-active":""}`,children:[e.jsxs(b,{to:"#",className:`side-nav-link ${r} ${i.includes(s.key)?"open":""}`,"aria-expanded":d,"data-menu-key":s.key,onClick:n,children:[s.icon&&e.jsx(s.icon,{style:{marginLeft:"13px"}}),s.badge?e.jsx("span",{className:`badge bg-${s.badge.variant} float-end`,children:s.badge.text}):e.jsx("span",{className:"menu-arrow"}),e.jsxs("span",{style:{marginLeft:"14px"},children:[" ",s.label]})]}),e.jsx(P,{in:d,children:e.jsx("div",{children:e.jsx("ul",{className:`side-nav-second-level ${x}`,children:(s.children||[]).map((a,j)=>e.jsx(S.Fragment,{children:a.children?e.jsx(R,{item:a,linkClassName:i.includes(a.key)?"active":"",activeMenuItems:i,subMenuClassNames:"sub-menu",toggleMenu:o}):e.jsx(T,{item:a,className:i.includes(a.key)?"menuitem-active":"",linkClassName:i.includes(a.key)?"active":""})},j))})})})]})},T=({item:s,className:r,linkClassName:x})=>e.jsx("li",{className:`side-nav-item ${r}`,children:e.jsx(w,{item:s,className:x})}),w=({item:s,className:r})=>e.jsxs(b,{to:s.url,target:s.target,className:`side-nav-link-ref ${r}`,"data-menu-key":s.key,children:[s.icon&&e.jsx("i",{className:s.icon}),s.badge&&e.jsx("span",{className:`badge bg-${s.badge.variant} float-end`,children:s.badge.text}),e.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:[" ",s.label]})]}),O=({menuItems:s})=>{let r=A();const x=u.useRef(null),[i,o]=u.useState([]),d=(n,a)=>{a&&o([n.key,...L(s,n)])},g=u.useCallback(()=>{var j;const n=document.getElementById("main-side-menu");let a=null;if(n){let k=n.getElementsByClassName("side-nav-link-ref");for(let m=0;m<k.length;++m){let f=(j=r==null?void 0:r.pathname)==null?void 0:j.replaceAll({}.PUBLIC_URL??"",""),p=k[m].pathname;if(f==={}.PUBLIC_URL+"/"&&(f+="ecommerce"),f===(p==null?void 0:p.replaceAll({}.PUBLIC_URL,""))){a=k[m];break}}if(a){let m=function(l,c,t,h){return l/=h/2,l<1?t/2*l*l+c:(l--,-t/2*(l*(l-2)-1)+c)},f=function(l,c,t){var h=l.scrollTop,U=c-h,N=0,y=20,C=function(){N+=y;var $=m(N,h,U,t);l.scrollTop=$,N<t&&setTimeout(C,y)};C()};const p=a.getAttribute("data-menu-key"),v=M(s,p);v&&o([v.key,...L(s,v)]),setTimeout(function(){var l=a;if(l!=null){var c=document.querySelector("#leftside-menu-container .simplebar-content-wrapper"),t=l.offsetTop-300;c&&t>100&&f(c,t,600)}},200)}}},[r,s]);return u.useEffect(()=>{g()},[]),e.jsx(e.Fragment,{children:e.jsx("ul",{className:"side-nav",ref:x,id:"main-side-menu",children:(s||[]).map((n,a)=>e.jsx(S.Fragment,{children:n.isTitle?e.jsx("li",{className:"side-nav-title",children:n.label}):e.jsx(e.Fragment,{children:n.children?e.jsx(R,{item:n,toggleMenu:d,subMenuClassNames:"",activeMenuItems:i,linkClassName:"side-nav-link"}):e.jsx(T,{item:n,linkClassName:"side-nav-link",className:i.includes(n.key)?"menuitem-active":""})})},a))})})},q=()=>{const{permissions:s,isSuperUser:r}=B();return e.jsxs(e.Fragment,{children:[e.jsx(O,{menuItems:I(s,r)}),e.jsx("div",{className:"clearfix"})]})},Z=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"leftside-menu",children:[e.jsxs(b,{to:"/",className:"logo logo-light",children:[e.jsx("span",{className:"logo-lg",children:e.jsx("img",{src:E,alt:"logo"})}),e.jsx("span",{className:"logo-sm",children:e.jsx("img",{src:F,alt:"small logo"})})]}),e.jsxs(_,{className:"h-100",id:"leftside-menu-container","data-simplebar":"",children:[e.jsx(q,{}),e.jsx("div",{className:"clearfix"})]})]})});export{Z as default};
